import uncertainties
from uncertainties import ufloat

__all__ = ['AffineScalarFun_2_Variable',
           'MT2NAME',
           'MTLIST2MT',
           'REALIST2MT',
           'MATs',
           'MTs',
           'ECCO33']

def AffineScalarFun_2_Variable(x: uncertainties.core.AffineScalarFunc) -> uncertainties.core.Variable:
    return ufloat(x.nominal_value, x.std_dev)


MT2NAME = {'2': "(z,elastic)",
           '1': 'total',
           '4': "(z,inelastic)",
           '18': "(z,fission)",
           '102': "(z,gamma)",
           'nubar total': 'nubar total',
           'nubar prompt': 'nubar prompt',
           'nubar delayed': 'nubar delayed',
           'chi total': 'chi total',
           'chi prompt': 'chi prompt',
           'chi delayed': 'chi delayed'}

MTLIST2MT = {'total xs': '1',
             'mt 2 xs': '2',
             'mt 4 xs': '4',
             'mt 18 xs': '18',
             'mt 102 xs': '102',
             'nubar total': 'nubar total',
             'nubar prompt': 'nubar prompt',
             'nubar delayed': 'nubar delayed',
             'chi total': 'chi total',
             'chi prompt': 'chi prompt',
             'chi delayed': 'chi delayed'}

REALIST2MT = {'total xs': '1',
              'ela scatt xs': '2',
              'inl scatt xs': '4',
              'capture xs': '18',  # here I fix what seems to be a bug found in SerpentTools!
              'fission xs': '102',
              'nubar total': 'nubar total',
              'nubar prompt': 'nubar prompt',
              'nubar delayed': 'nubar delayed',
              'chi total': 'chi total',
              'chi prompt': 'chi prompt',
              'chi delayed': 'chi delayed'}

MATs = {8325: 'Bi209',
        8225: 'Pb204',
        8231: 'Pb206',
        8234: 'Pb207',
        8237: 'Pb208',
        825: 'O16',
        9543: 'Am241',
        2631: 'Fe56',
        9437: 'Pu239',
        9440: 'Pu240',
        9443: 'Pu241',
        9237: 'U238',
        9228: 'U235'}

MTs ={2 : "(z,elastic)",
      1 : 'total',
      4 : "(z,inelastic)",
      18 : "(z,fission)",
      102 : "(z,gamma)",
      452 : 'nubar total',
      456 : 'nubar prompt',
      455 : 'nubar delayed',
      'nubar total' : 'nubar total',
      'nubar prompt' : 'nubar prompt',
      'nubar delayed' : 'nubar delayed',
      'chi total': 'chi total',
      'chi prompt' : 'chi prompt',
      'chi delayed' : 'chi delayed'}

ECCO33 = {1.00000e-01: 1.00000e-07,
          5.40000e-01: 5.40000e-07,
          4.00000e+00: 4.00000e-06,
          8.31529e+00: 8.31529e-06,
          1.37096e+01: 1.37096e-05,
          2.26033e+01: 2.26033e-05,
          4.01690e+01: 4.01690e-05,
          6.79040e+01: 6.79040e-05,
          9.16609e+01: 9.16609e-05,
          1.48625e+02: 1.48625e-04,
          3.04325e+02: 3.04325e-04,
          4.53999e+02: 4.53999e-04,
          7.48518e+02: 7.48518e-04,
          1.23410e+03: 1.23410e-03,
          2.03468e+03: 2.03468e-03,
          3.35463e+03: 3.35463e-03,
          5.53084e+03: 5.53084e-03,
          9.11882e+03: 9.11882e-03,
          1.50344e+04: 1.50344e-02,
          2.47875e+04: 2.47875e-02,
          4.08677e+04: 4.08677e-02,
          6.73795e+04: 6.73795e-02,
          1.11090e+05: 1.11090e-01,
          1.83156e+05: 1.83156e-01,
          3.01974e+05: 3.01974e-01,
          4.97871e+05: 4.97871e-01,
          8.20850e+05: 8.20850e-01,
          1.35335e+06: 1.35335e+00,
          2.23130e+06: 2.23130e+00,
          3.67879e+06: 3.67879e+00,
          6.06531e+06: 6.06531e+00,
          1.00000e+07: 1.00000e+01,
          1.96403e+07: 1.96403e+01}
